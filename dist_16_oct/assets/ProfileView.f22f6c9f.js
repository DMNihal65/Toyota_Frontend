import{J as h,K as b,T as f,h as y,o as g,i as V,j as s,d as o,k as F,u as n,z as _,b as d,q as P,s as S,v,_ as $,x as m,y as u,A as k,L as w,E as q,M as T,B as x,D as E}from"./index.fdefad8f.js";const N=h("ProfileStore",{state:()=>({profileForm:{username:"",email:"",password:"",role:"",company_id:""},passwordForm:{password_current:"",password:"",password_confirmation:""}}),actions:{async setProfileForm(i){const t="/register";this.profileForm=i;const e=this.profileForm,c={headers:{Authorization:`Bearer ${localStorage.getItem("token")}`}};try{const l=await b.post(t,e,c);return console.log("Edited data sent successfully:",l.data),this.showSuccessToast("User successfully created"),l.data}catch(l){throw console.error("Error sending edited data:",l),this.showErrorToast(`Error: ${l.message}`),l}},showSuccessToast(i){f({text:i,duration:3e3,close:!0,gravity:"bottom",position:"right",backgroundColor:"green"}).showToast()},showErrorToast(i){f({text:i,duration:3e3,close:!0,gravity:"bottom",position:"right",backgroundColor:"red"}).showToast()},clearFormData(){this.profileForm.username="",this.profileForm.email="",this.profileForm.password="",this.profileForm.role="admin",this.profileForm.company_id=null}}}),R={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},C=d("option",{value:"admin"},"Admin",-1),U=d("option",{value:"guest"},"Guest",-1),A=d("option",{value:"maintenance_operator"},"Maintenance Operator",-1),B=[C,U,A],M={__name:"ProfileView",setup(i){const t=N(),e=y({username:t.userName,email:t.userEmail,password:t.userPassword,role:t.userRole,company_id:t.userCompany_id}),p=async()=>{t.setProfileForm(e),c()},c=()=>{e.username="",e.email="",e.password="",e.role="admin",e.company_id=null};return(l,a)=>(g(),V(E,null,{default:s(()=>[o(x,null,{default:s(()=>[o(F,{icon:n(_),title:"Profile",main:""},null,8,["icon"]),d("div",R,[o(P,{"is-form":"",onSubmit:S(p,["prevent"])},{footer:s(()=>[o(v,null,{default:s(()=>[o($,{color:"info",type:"submit",label:"Submit"})]),_:1})]),default:s(()=>[o(m,{label:"Name",help:"Required. Your name"},{default:s(()=>[o(u,{modelValue:e.username,"onUpdate:modelValue":a[0]||(a[0]=r=>e.username=r),icon:n(_),name:"username",required:"",autocomplete:"username"},null,8,["modelValue","icon"])]),_:1}),o(m,{label:"E-mail",help:"Required. Your e-mail"},{default:s(()=>[o(u,{modelValue:e.email,"onUpdate:modelValue":a[1]||(a[1]=r=>e.email=r),icon:n(k),type:"email",name:"email",required:"",autocomplete:"email"},null,8,["modelValue","icon"])]),_:1}),o(m,{label:"Password",help:"Required. New Password"},{default:s(()=>[o(u,{modelValue:e.password,"onUpdate:modelValue":a[2]||(a[2]=r=>e.password=r),icon:n(w),type:"password",name:"password",required:"",autocomplete:"password"},null,8,["modelValue","icon"])]),_:1}),o(m,{label:"Company ID",help:"Required. Company ID"},{default:s(()=>[o(u,{modelValue:e.company_id,"onUpdate:modelValue":a[3]||(a[3]=r=>e.company_id=r),icon:n(w),type:"Number",name:"Number",required:"",autocomplete:"Number"},null,8,["modelValue","icon"])]),_:1}),o(m,{label:"Role",help:"Select the Role"},{default:s(()=>[q(d("select",{"onUpdate:modelValue":a[4]||(a[4]=r=>e.role=r),class:"form-control border-2 rounded-md bg-blue-100"},B,512),[[T,e.role]])]),_:1})]),_:1},8,["onSubmit"])])]),_:1})]),_:1}))}};export{M as default};
